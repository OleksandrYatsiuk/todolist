<div class="container">
  <div class="row">
    <div class="col">
      <img
        src="/assets/images/clearpoint-logo.png"
        alt="ClearPoint"
        class="rounded mx-auto"
      />
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div role="alert" class="bg-gray-100 rounded-md p-4">
        <div class="font-bold mb-2">Todo List App (Angular)</div>
        Welcome to the ClearPoint frontend technical test. We like to keep
        things simple, yet clean so your task(s) are as follows:<br /><br />

        <ol class="list-decimal list-inside text-sm text-left">
          <li>
            Add the ability to add and delete a Todo Item by calling the backend
            API
          </li>
          <li>
            Add form validation to the description as to disallow entries that
            contain any of these words: cat, dog, yes, no and display an error
            message below the form field
          </li>
          <li>
            Display all the current Todo Items in the below grid and display
            them in alphabetical order
          </li>
          <li>
            Bonus points adding a 'Mark as completed' button code for allowing
            users to update and mark a specific Todo Item as completed and for
            displaying any relevant validation errors/ messages from the API in
            the UI
          </li>
          <li>
            Add unit tests and refactor the component(s) as best you see fit
          </li>
          <li>
            Feel free to add comments if you feel like you might do things
            differently if this was a real world app or had more time
          </li>
        </ol>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="mt-4 mb-4">
      <div class="container max-w-md">
        <h1 class="text-center">Add Item</h1>

        <div class="flex flex-col justify-center gap-4 mx-4 md:my-0mx-auto">
          <div class="flex gap-2 flex-col justify-center md:flex-row">
            <label for="description" class="mt-2">Description</label>
            <div class="flex flex-col w-full">
              <input
                placeholder="Enter description..."
                [formControl]="description"
                type="text"
                id="description"
                class="input"
              />
              <span class="error" *ngIf="hasError(description, 'required')">
                The field is required
              </span>
              <span
                class="error"
                *ngIf="hasError(description, 'disallowedWords')"
                >The field includes disallowed word</span
              >
            </div>
          </div>

          <div class="flex justify-end gap-4">
            <button
              type="button"
              class="button button--primary"
              (click)="onSave()"
            >
              Add Item
            </button>
            <button
              type="button"
              class="button button--secondary"
              (click)="onClearDescription()"
            >
              Clear
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="row" *ngIf="todos$ | async as todos">
      <div class="col">
        <h1 class="text-center">Showing {{ todos.length }} Item(s)</h1>
        <app-todo-table
          [items]="todos"
          (modified)="onUpdateList()"
          (delete)="onDeletedItem($event)"
        ></app-todo-table>
      </div>
    </div>
  </div>
</div>
